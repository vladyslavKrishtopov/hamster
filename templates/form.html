<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Add / Edit Item</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-white">
  <div class="container py-5">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 class="h5">{{ 'Edit Item' if item else 'Add Item' }}</h1>
      <div>
        <a href="/home" class="btn btn-outline-secondary btn-sm">Back</a>
      </div>
    </div>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <form method="post" action="{{ action }}">
      <div class="mb-3">
        <label class="form-label">Name</label>
        <input name="name" class="form-control" placeholder="Item name" value="{{ item.name if item else '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">SKU</label>
        {% if item %}
          <input name="sku" class="form-control" value="{{ item.sku }}" readonly>
        {% else %}
          <input name="sku" class="form-control" placeholder="SKU-123">
        {% endif %}
      </div>
      <div class="row">
        <div class="col-md-4 mb-3">
          <label class="form-label">Quantity</label>
          <input name="qty" type="number" class="form-control" value="{{ item.qty if item else 0 }}">
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">Location</label>
          <input name="location" class="form-control" placeholder="Warehouse A" value="{{ item.location if item else '' }}">
        </div>
        <div class="col-md-4 mb-3">
          <label class="form-label">Category</label>
          <input name="category" class="form-control" placeholder="Electronics" value="{{ item.category if item else '' }}">
        </div>
      </div>
      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea name="description" class="form-control" rows="3">{{ item.description if item else '' }}</textarea>
      </div>
      <div class="mb-3">
        <label class="form-label">Purchase price (USD)</label>
        <input name="purchase_price" type="number" step="0.01" class="form-control" placeholder="0.00" value="{{ item.purchase_price if item and item.purchase_price is defined else '' }}">
      </div>
      <div class="d-grid">
        <button class="btn btn-primary">Save</button>
      </div>
    </form>
  </div>
</body>
</html>
